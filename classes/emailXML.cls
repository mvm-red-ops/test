public class emailXML {
    //public string toMail { get; set;}
    //public string ccMail { get; set;}
    //public string repMail { get; set;}
    //public Id fileXML { get; set;}
     
    @invocablemethod
    public static void sendXML(List<Id> dealRecord){
        Messaging.SingleEmailMessage email = new Messaging.SingleEmailMessage();
        string[] to = new string[] {'adrianpichardo@mvmediasales.com'};
  		//will work with later
        //string[] cc = new string[] {ccMail};
        
        
         
        email.setToAddresses(to);
  
        //email.setInReplyTo(repMail);
        //will have to be pulled from Deal
        email.setSubject('Test Mail');

        //SOQL query reading the attachment Id
        Attachment[] fileXML = [SELECT Id 
                        FROM Attachment 
                        WHERE ParentId = :dealRecord];

        String[] idStrings = new String[] {fileXML[0].Id};
        email.setEntityAttachments(idStrings);
         
        email.setHtmlBody('Hello, <br/><br/>This is the test mail that you generated. <br/>The Email Id for which this mail was generated by '+ to +'<br/><br/>Regards<br/> Developer');
        //try{
            Messaging.sendEmail(new Messaging.SingleEmailMessage[] { email });
      //  }catch(exception e){
      //      apexpages.addmessage(new apexpages.message(apexpages.severity.error,e.getMessage()));
      //  }
         
        //willl have to change to Log_Contact on Programs__c
        //toMail = '';
        //ccMail = '';
        //will have to change to createdBy__c
        //repMail = '';
        //fileXML = '';
    }
}